<!--æ‰«ç ç­¾åˆ°é¡µé¢-->
<view class="container">
  <!-- ç”¨æˆ·ä¿¡æ¯ -->
  <view class="user-info" wx:if="{{userInfo}}">
    <text class="welcome">æ¬¢è¿ï¼Œ{{userInfo.real_name || userInfo.username}}</text>
    <text class="role">{{isExaminer ? 'è€ƒåŠ¡äººå‘˜' : 'è€ƒç”Ÿ'}}</text>
  </view>

  <!-- ç»Ÿè®¡ä¿¡æ¯ -->
  <view class="stats" wx:if="{{isExaminer}}">
    <view class="stat-item">
      <text class="stat-number">{{stats.todayCheckins}}</text>
      <text class="stat-label">ä»Šæ—¥ç­¾åˆ°</text>
    </view>
    <view class="stat-item">
      <text class="stat-number">{{stats.successRate}}%</text>
      <text class="stat-label">æˆåŠŸç‡</text>
    </view>
  </view>

  <!-- æ‰«ç åŒºåŸŸ -->
  <view class="scan-section">
    <view class="scan-card" wx:if="{{isExaminer}}">
      <view class="scan-icon">ğŸ“·</view>
      <text class="scan-title">æ‰«ç ç­¾åˆ°</text>
      <text class="scan-desc">æ‰«æè€ƒç”Ÿæ‰‹æœºä¸Šçš„äºŒç»´ç è¿›è¡Œç­¾åˆ°</text>
      <button class="scan-btn" bindtap="startScan">å¼€å§‹æ‰«ç </button>
      <button class="manual-btn" bindtap="manualCheckin" size="mini" type="default">æ‰‹åŠ¨ç­¾åˆ°</button>
    </view>

    <!-- è€ƒç”Ÿæç¤º -->
    <view class="candidate-tip" wx:if="{{!isExaminer}}">
      <view class="tip-icon">ğŸ‘¤</view>
      <text class="tip-title">è€ƒç”Ÿç”¨æˆ·</text>
      <text class="tip-desc">è¯·å‘è€ƒåŠ¡äººå‘˜å‡ºç¤ºæ‚¨çš„äºŒç»´ç </text>
      <button class="qr-btn" bindtap="showQRCode">æ˜¾ç¤ºæˆ‘çš„äºŒç»´ç </button>
    </view>
  </view>

  <!-- æœ€è¿‘ç­¾åˆ°è®°å½• -->
  <view class="recent-section" wx:if="{{isExaminer && recentCheckins.length > 0}}">
    <view class="section-header">
      <text class="section-title">æœ€è¿‘ç­¾åˆ°</text>
    </view>
    
    <view class="checkin-list">
      <block wx:for="{{recentCheckins}}" wx:key="id">
        <view class="checkin-item" bindtap="onCheckinDetail" data-checkin="{{item}}">
          <view class="checkin-info">
            <text class="candidate-name">{{item.candidateName}}</text>
            <text class="exam-product">{{item.examProduct}}</text>
            <text class="venue-name">{{item.venue}}</text>
          </view>
          <view class="checkin-meta">
            <text class="checkin-time">{{item.checkinTime}}</text>
            <view class="status-badge success" wx:if="{{item.status === 'success'}}">
              <text>æˆåŠŸ</text>
            </view>
          </view>
        </view>
      </block>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty" wx:if="{{isExaminer && recentCheckins.length === 0}}">
    <text>æš‚æ— ç­¾åˆ°è®°å½•</text>
  </view>
</view>
